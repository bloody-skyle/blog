---
layout: post
title: "뱀 게임"
date: 2022-10-30 03:00:00
categories:
  - blog
tags:
  - 작품들
---

<h2>ver.1</h2>

뱀 게임이다.

과 동시에 미완이다.

```
//미완입니다.
#include<iostream>
#include<conio.h>
#include<Windows.h>
#include<cstdlib>
#include<ctime>
using namespace std;
void gotoxy(int x,int y){
	COORD pos={x,y};
	SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), pos);
}
int main(){
	int i;
	int l=0;
	int gx=7;
	int gy=7;
	int x=1;
	int y=18;
	int px,py,lx,ly;
	char m='d';
	char c;
    srand((unsigned int)time(NULL));
	for(i=0;i<20;i++){
		gotoxy(i*2,0);
		cout << "[]";
		gotoxy(i*2,19);
		cout << "[]";
		gotoxy(0,i);
		cout << "[]";
		gotoxy(38,i);
		cout << "[]";
	}
	gotoxy(gx*2,gy);
	cout << "GG";
	while(1){
		if(kbhit()){
			c=getch();
			if(c=='w'&&m!='s'){
				m=c;
			}
			if(c=='d'&&m!='a'){
				m=c;
			}
			if(c=='s'&&m!='w'){
				m=c;
			}
			if(c=='a'&&m!='d'){
				m=c;
			}
		}
			px=x;
			lx=x;
			py=y;
			ly=y;
			gotoxy(lx*2,ly);
			cout << "  ";
			switch(m){
				case 'w':
					y=y-1;
					gotoxy(x*2,y);
					cout << "**";
					break;
				case 'd':
					x=x+1;
					gotoxy(x*2,y);
					cout << "**";
					break;
				case 's':
					y=y+1;
					gotoxy(x*2,y);
					cout << "**";
					break;
				case 'a':
					x=x-1;
					gotoxy(x*2,y);
					cout << "**";
					break;
		}
		for(i=0;i<l;i++){
			if(gx==x&&gy==y){
				lx=px;
				ly=py;
				gotoxy(lx,ly);
				cout << "**";
				gx=rand()%19+1;
				gy=rand()%19+1;
				gotoxy(gx*2,gy);
				cout << "GG";
				break;
			}
		}
		if((x==0||x==19)||(y==0||y==19)){
			system("cls");
			gotoxy(15,10);
			cout << "GAME OVER";
			gotoxy(0,20);
			Sleep(2500);
			return 0;
		}
		Sleep(50);
	}
}
```

몸 늘리는구간에서 뇌 과부하로 그만 뒀다.

진짜 누가 만들라고 한거야

이동방향키는 aswd다.

<h2>ver.2</h2>

이거 만드느라 진짜 머리 너무 아팠다.

```
#include<iostream>
#include<conio.h>
#include<Windows.h>
#include<cstdlib>
#include<ctime>
#include<string.h>
using namespace std;
void gotoxy(int x,int y){
	COORD pos={x,y};
	SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), pos);
}
int main(){
	re:
	int i;
	int l=0;
	int gx=7;
	int gy=7;
	int x=1;
	int y=18;
	int px,py;
	int lx[100]={1};
	int ly[100]={18};
	char m='d';
	char c;
	int q;
	string r;
    srand((unsigned int)time(NULL));
	for(i=0;i<20;i++){
		gotoxy(i*2,0);
		cout << "[]";
		gotoxy(i*2,19);
		cout << "[]";
		gotoxy(0,i);
		cout << "[]";
		gotoxy(38,i);
		cout << "[]";
	}
	gotoxy(gx*2,gy);
	cout << "GG";
	while(l<100){
		if(kbhit()){
			c=getch();
			if(c=='w'&&m!='s'){
				m=c;
			}
			if(c=='d'&&m!='a'){
				m=c;
			}
			if(c=='s'&&m!='w'){
				m=c;
			}
			if(c=='a'&&m!='d'){
				m=c;
			}
		}
		gotoxy(lx[l]*2,ly[l]);
		cout << "  ";
		px=lx[l];
		py=ly[l];
		switch(m){
			case 'w':
				y=y-1;
				gotoxy(x*2,y);
				cout << "**";
				break;
			case 'd':
				x=x+1;
				gotoxy(x*2,y);
				cout << "**";
				break;
			case 's':
				y=y+1;
				gotoxy(x*2,y);
				cout << "**";
				break;
			case 'a':
				x=x-1;
				gotoxy(x*2,y);
				cout << "**";
				break;
		}
		for(i=l;i>0;i--){
			lx[i]=lx[i-1];
			ly[i]=ly[i-1];
		}
		lx[0]=x;
		ly[0]=y;
		for(i=0;i<=l;i++){
			if(gx==lx[i]&&gy==ly[i]){
				l++;
				lx[l]=px;
				ly[l]=py;
				gotoxy(lx[l]*2,ly[l]);
				cout << "**";
				gx=rand()%16+2;
				gy=rand()%16+2;
				gotoxy(gx*2,gy);
				cout << "GG";
				break;
			}
		}
		if((x==0||x==19)||(y==0||y==19)){
			system("cls");
			gotoxy(15,5);
			cout << "GAME OVER";
			Sleep(1000);
			gotoxy(12,10);
			cout << "YOUR SCORE : " << l;
			Sleep(1500);
			gotoxy(2,15);
			cout << "DO YOU WANT TO RESTART THIS GAME?(YES OR NO)";
			gotoxy(20,17);
			cin >> r;
			gotoxy(20,22);
			cout << "OKEY";
			Sleep(2000);
			if(r=="YES"){
				system("cls");
				cout << "GET READY" << endl;
				Sleep(1000);
				cout << "THREE" << endl;
				Sleep(1000);
				cout << "TWO" << endl;
				Sleep(1000);
				cout << "ONE";
				Sleep(1000);
				system("cls");
				goto re;
			}
			gotoxy(0,25);
			return 0;
		}
		Sleep(75-l/2);
	}
	system("cls");
	gotoxy(15,5);
	cout << "PERPECT!";
	Sleep(1000);
	gotoxy(10,10);
	cout << "YOU CLAER THIS GAME";
	Sleep(1500);
	gotoxy(5,15);
	cout << "THANKS FOR PLAYING THIS GAME";
	gotoxy(0,25);
	Sleep(2000);
	return 0;
}
```

참고로 다 만든거다.

더이상은 추가 안할꺼다.

버그가 있을진 모르겠지만 있을수도 있다.

아 이걸 만든 나 너무 칭찬해 아 진짜로 칭찬해 이제 테트리스 만들자(?)~~안만들어 안만들꺼임~~




<h2>ver.3<h2>

챗지피티 개사기

```
#include <iostream>
#include <conio.h>
#include <Windows.h>
#include <ctime>

using namespace std;

const int WIDTH = 20;
const int HEIGHT = 20;
const int MAX_LEN = 100;

struct Point {
    int x, y;
};

void gotoxy(int x, int y) {
    COORD pos = { (SHORT)x, (SHORT)y };
    SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), pos);
}

void hideCursor() {
    CONSOLE_CURSOR_INFO cci;
    cci.bVisible = FALSE;
    cci.dwSize = 1;
    SetConsoleCursorInfo(GetStdHandle(STD_OUTPUT_HANDLE), &cci);
}

void drawBorder() {
    for (int i = 0; i < WIDTH; i++) {
        gotoxy(i * 2, 0); cout << "[]";
        gotoxy(i * 2, HEIGHT - 1); cout << "[]";
    }
    for (int i = 0; i < HEIGHT; i++) {
        gotoxy(0, i); cout << "[]";
        gotoxy((WIDTH - 1) * 2, i); cout << "[]";
    }
}

bool isOnSnake(Point p, Point snake[], int length) {
    for (int i = 0; i <= length; i++) {
        if (snake[i].x == p.x && snake[i].y == p.y)
            return true;
    }
    return false;
}

Point randomFood(Point snake[], int length) {
    Point p;
    do {
        p.x = rand() % (WIDTH - 4) + 2;
        p.y = rand() % (HEIGHT - 4) + 2;
    } while (isOnSnake(p, snake, length));
    return p;
}

int main() {
    srand((unsigned)time(NULL));
    hideCursor();
    system("cls");

    Point snake[MAX_LEN];
    int length = 2;
    char dir = 'd';

    // 초기 뱀
    snake[0] = { 5, 5 };
    snake[1] = { 4, 5 };
    snake[2] = { 3, 5 };

    drawBorder();

    for (int i = 0; i <= length; i++) {
        gotoxy(snake[i].x * 2, snake[i].y);
        cout << "**";
    }

    Point food = randomFood(snake, length);
    gotoxy(food.x * 2, food.y);
    cout << "GG";

    while (true) {
        // 입력
        if (kbhit()) {
            char c = getch();
            if ((c == 'w' && dir != 's') ||
                (c == 's' && dir != 'w') ||
                (c == 'a' && dir != 'd') ||
                (c == 'd' && dir != 'a')) {
                dir = c;
            }
        }

        // 1️⃣ 새 머리 좌표 계산
        Point newHead = snake[0];
        switch (dir) {
        case 'w': newHead.y--; break;
        case 's': newHead.y++; break;
        case 'a': newHead.x--; break;
        case 'd': newHead.x++; break;
        }

        // 벽 충돌
        if (newHead.x <= 0 || newHead.x >= WIDTH - 1 ||
            newHead.y <= 0 || newHead.y >= HEIGHT - 1) {
            break;
        }

        // 자기 몸 충돌
        for (int i = 0; i <= length; i++) {
            if (newHead.x == snake[i].x &&
                newHead.y == snake[i].y) {
                goto gameover;
            }
        }

        // 2️⃣ 먹었는지 먼저 판단
        bool ate = (newHead.x == food.x && newHead.y == food.y);
        Point lastTail = snake[length];

        // 3️⃣ 몸 이동
        if (ate) {
            for (int i = length + 1; i > 0; i--) {
                snake[i] = snake[i - 1];
            }
            length++;
        } else {
            for (int i = length; i > 0; i--) {
                snake[i] = snake[i - 1];
            }
        }

        // 4️⃣ 머리 확정
        snake[0] = newHead;

        // 출력 처리
        if (!ate) {
            gotoxy(lastTail.x * 2, lastTail.y);
            cout << "  ";
        }

        gotoxy(snake[1].x * 2, snake[1].y);
        cout << "**";

        gotoxy(snake[0].x * 2, snake[0].y);
        cout << "**";

        if (ate) {
            food = randomFood(snake, length);
            gotoxy(food.x * 2, food.y);
            cout << "GG";
        }

        int delay = 80 - length / 2;
        if (delay < 20) delay = 20;
        Sleep(delay);
    }

gameover:
    gotoxy(12, HEIGHT / 2);
    cout << "GAME OVER";
    gotoxy(11, HEIGHT / 2 + 2);
    cout << "SCORE : " << length;

    gotoxy(0, HEIGHT + 2);
    system("pause");
    return 0;
}
```